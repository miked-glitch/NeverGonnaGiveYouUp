<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platypus Endless Runner</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #87CEEB; /* Light blue background */
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Game state
        let speed = 2; // Initial speed
        let distance = 0; // Distance traveled
        let lastTime = 0;
        const platypusWidth = 50;
        const platypusHeight = 50;
        const platypusImage = new Image();
        platypusImage.src = 'perry.jpg'; // Path to your platypus image in the same directory
        const obstacles = [];
        const overheadObstacles = [];
        const obstacleWidth = 60;
        const obstacleHeight = 60;
        const overheadObstacleWidth = 60;
        const overheadObstacleHeight = 20;
        const obstacleFrequency = 2000; // Add obstacles every 2 seconds
        let lastObstacleTime = 0;
        let health = 100; // Starting health
        let isJumping = false;
        let isSliding = false;
        const gravity = 0.5;
        let velocityY = 0;
        let platypusY = canvas.height - platypusHeight - 50;
        const jumpHeight = -10;
        const slideHeight = platypusHeight / 2;
        let isGameOver = false;

        // Handle keyboard input
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' || e.code === 'ArrowUp') {
                if (!isJumping && !isSliding && !isGameOver) {
                    isJumping = true;
                    velocityY = jumpHeight;
                }
            }
            if (e.code === 'ArrowDown') {
                if (!isJumping && !isSliding && !isGameOver) {
                    isSliding = true;
                }
            }
        });

        document.addEventListener('keyup', (e) => {
            if (e.code === 'ArrowDown') {
                isSliding = false;
            }
        });

        function update(deltaTime) {
            if (isGameOver) return;

            distance += speed;

            // Increase speed every 100 studs
            if (Math.floor(distance / 100) * 100 === distance) {
                speed *= 1.32; // Increase speed by 32%
            }

            // Update platypus vertical position
            if (isJumping) {
                platypusY += velocityY;
                velocityY += gravity;
                if (platypusY >= canvas.height - platypusHeight - 50) {
                    platypusY = canvas.height - platypusHeight - 50;
                    isJumping = false;
                }
            }

            if (isSliding) {
                platypusHeight = slideHeight;
            } else {
                platypusHeight = 50;
            }

            // Update obstacle positions
            for (let i = 0; i < obstacles.length; i++) {
                obstacles[i].x -= speed;
                if (obstacles[i].x + obstacleWidth < 0) {
                    obstacles.splice(i, 1);
                    i--;
                } else if (checkCollision(obstacles[i])) {
                    health -= 69; // Reduce health by 69%
                    obstacles.splice(i, 1);
                    i--;
                    if (health <= 0) {
                        health = 0;
                        isGameOver = true;
                    }
                }
            }

            for (let i = 0; i < overheadObstacles.length; i++) {
                overheadObstacles[i].x -= speed;
                if (overheadObstacles[i].x + overheadObstacleWidth < 0) {
                    overheadObstacles.splice(i, 1);
                    i--;
                } else if (checkCollision(overheadObstacles[i])) {
                    health -= 69; // Reduce health by 69%
                    overheadObstacles.splice(i, 1);
                    i--;
                    if (health <= 0



